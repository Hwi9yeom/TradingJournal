<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>거래 통계 분석 - Trading Journal</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/dashboard-glass.css">
</head>
<body>
    <!-- Background Orbs -->
    <div class="bg-orb bg-orb-1"></div>
    <div class="bg-orb bg-orb-2"></div>
    <div class="bg-orb bg-orb-3"></div>

    <!-- Navigation -->
    <nav class="navbar-glass">
        <div class="container">
            <a href="index.html" class="navbar-brand">
                <span class="logo-icon"><i class="bi bi-graph-up-arrow"></i></span>
                Trading Journal
            </a>
            <ul class="navbar-nav">
                <li><a href="dashboard.html" class="nav-link"><i class="bi bi-speedometer2"></i> 대시보드</a></li>
                <li><a href="patterns.html" class="nav-link"><i class="bi bi-diagram-3"></i> 패턴분석</a></li>
                <li><a href="reviews.html" class="nav-link"><i class="bi bi-journal-text"></i> 거래복기</a></li>
                <li><a href="risk.html" class="nav-link"><i class="bi bi-shield-check"></i> 리스크</a></li>
                <li><a href="sectors.html" class="nav-link"><i class="bi bi-pie-chart"></i> 섹터</a></li>
                <li><a href="backtest.html" class="nav-link"><i class="bi bi-clock-history"></i> 백테스트</a></li>
                <li><a href="statistics.html" class="nav-link active"><i class="bi bi-bar-chart-line"></i> 통계</a></li>
                <li><a href="index.html" class="nav-link"><i class="bi bi-list-ul"></i> 거래</a></li>
                <li><a href="#" class="nav-link" onclick="logout()"><i class="bi bi-box-arrow-right"></i></a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-container">
        <!-- Page Header -->
        <header class="page-header fade-in">
            <div class="page-title">
                <h1>거래 통계 분석</h1>
                <span class="subtitle">패턴 분석으로 성과 개선 인사이트 확보</span>
            </div>
            <div class="period-selector" id="period-selector">
                <button class="period-btn" data-period="1M">1개월</button>
                <button class="period-btn active" data-period="3M">3개월</button>
                <button class="period-btn" data-period="6M">6개월</button>
                <button class="period-btn" data-period="1Y">1년</button>
                <button class="period-btn" data-period="ALL">전체</button>
            </div>
        </header>

        <!-- Summary Stats -->
        <section class="stats-grid" id="summary-cards">
            <div class="stat-card fade-in stagger-1">
                <div class="stat-card-header">
                    <span class="stat-card-label">총 거래</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-arrow-left-right"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="total-trades">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-activity"></i>
                    거래 횟수
                </div>
            </div>
            <div class="stat-card fade-in stagger-2">
                <div class="stat-card-header">
                    <span class="stat-card-label">승률</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-percent"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="win-rate">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-trophy"></i>
                    수익 확률
                </div>
            </div>
            <div class="stat-card fade-in stagger-3" id="profit-card">
                <div class="stat-card-header">
                    <span class="stat-card-label">총 손익</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-cash-stack"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="total-profit">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-graph-up"></i>
                    누적 손익
                </div>
            </div>
            <div class="stat-card fade-in stagger-4">
                <div class="stat-card-header">
                    <span class="stat-card-label">최고 요일</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-calendar-check"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="best-day">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-star"></i>
                    최적 거래일
                </div>
            </div>
        </section>

        <!-- Secondary Stats -->
        <section class="stats-grid mb-8" style="grid-template-columns: repeat(2, 1fr);">
            <div class="stat-card fade-in stagger-1">
                <div class="stat-card-header">
                    <span class="stat-card-label">최고 시간대</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-clock"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="best-time">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-hourglass-split"></i>
                    최적 거래 시간
                </div>
            </div>
            <div class="stat-card fade-in stagger-2">
                <div class="stat-card-header">
                    <span class="stat-card-label">일관성 점수</span>
                    <div class="stat-card-icon">
                        <i class="bi bi-speedometer2"></i>
                    </div>
                </div>
                <div class="stat-card-value" id="consistency-score">-</div>
                <div class="stat-card-change">
                    <i class="bi bi-graph-up-arrow"></i>
                    전략 안정성
                </div>
            </div>
        </section>

        <!-- Performance Charts -->
        <section class="two-col-grid mb-8">
            <!-- Weekday Performance -->
            <div class="glass-card fade-in">
                <div class="glass-card-header" style="border-left: 3px solid var(--gradient-start);">
                    <h3><i class="bi bi-calendar-week"></i> 요일별 성과</h3>
                </div>
                <div class="glass-card-body">
                    <div class="chart-container" style="height: 280px;">
                        <canvas id="weekday-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Time Performance -->
            <div class="glass-card fade-in">
                <div class="glass-card-header" style="border-left: 3px solid var(--color-positive);">
                    <h3><i class="bi bi-clock"></i> 시간대별 성과</h3>
                </div>
                <div class="glass-card-body">
                    <div class="chart-container" style="height: 280px;">
                        <canvas id="time-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Symbol Rankings & Mistake Patterns -->
        <section class="two-col-grid mb-8">
            <!-- Symbol Rankings -->
            <div class="glass-card fade-in">
                <div class="glass-card-header" style="border-left: 3px solid var(--color-info);">
                    <h3><i class="bi bi-trophy"></i> 종목별 성과 순위</h3>
                </div>
                <div class="glass-card-body" style="padding: 0;" id="symbol-ranking">
                    <div class="empty-state">
                        <div class="empty-state-icon"><i class="bi bi-hourglass-split"></i></div>
                        <div class="empty-state-title">데이터 로딩 중...</div>
                    </div>
                </div>
            </div>

            <!-- Mistake Patterns -->
            <div class="glass-card fade-in">
                <div class="glass-card-header" style="border-left: 3px solid var(--color-warning);">
                    <h3><i class="bi bi-exclamation-triangle"></i> 실수 패턴 분석</h3>
                </div>
                <div class="glass-card-body" id="mistake-patterns">
                    <div class="empty-state">
                        <div class="empty-state-icon"><i class="bi bi-hourglass-split"></i></div>
                        <div class="empty-state-title">데이터 로딩 중...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Improvement Suggestions -->
        <section class="glass-card mb-8 fade-in">
            <div class="glass-card-header" style="border-left: 3px solid var(--color-positive);">
                <h3><i class="bi bi-lightbulb"></i> 개선 제안</h3>
            </div>
            <div class="glass-card-body" id="suggestions">
                <div class="empty-state">
                    <div class="empty-state-icon"><i class="bi bi-hourglass-split"></i></div>
                    <div class="empty-state-title">데이터 로딩 중...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="utils.js"></script>
    <script src="auth.js"></script>
    <script src="statistics.js"></script>
</body>
</html>
